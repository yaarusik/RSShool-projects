(()=>{"use strict";let e;const t=document.querySelector(".pictures__timer");let n=[];const s=document.querySelector(".question__pictures"),c=document.querySelector(".finish"),a=document.querySelector(".end__title"),o=document.querySelector(".popup__correct-up"),r=document.querySelectorAll(".down__results"),i=document.querySelectorAll(".down__reaction"),l=document.querySelector(".change__title");let d,u,_,m,v,g=new Set,p=0,h=[];const L=e=>{o.innerHTML=`\n  <div class="popup__correct">\n            <div class="container">\n              <div class="correct__body">\n                <div class="correct__img">\n                  <div class="correct__logo ${e} background__size"></div>\n                  <img class="opacity__img" onload="this.style.opacity='1'" src="./images/assets/img/${n[d].imageNum}.jpg" alt="img" />\n                </div>\n                <div class="correct__name">${n[d].name}</div>\n                <div class="correct__author"> ${n[d].author}, ${n[d].year}</div>\n                <button class="correct__btn">Next</button>\n              </div>\n            </div>\n          </div>\n  `},y=()=>{const e=document.querySelectorAll(".indicators__round");h.forEach(((t,n)=>{"1"===t?e[n].classList.add("correct__answer"):"0"===t&&e[n].classList.add("uncorrect__answer")}))},S=t=>{t.target.alt===n[d].imageNum?(t.target.classList.add("correct__answer"),h.push("1"),y(),L("yes"),ot()):(h.push("0"),t.target.classList.add("uncorrect__answer"),y(),L("no"),lt()),ut(),clearInterval(e)},q=async(e,t,c)=>{let a;"number"==typeof t&&(u=t),d=e,a="en"===c?await fetch("https://raw.githubusercontent.com/yaarusik/image-data/master/imagesEn.json"):await fetch("https://raw.githubusercontent.com/yaarusik/image-data/master/images.json"),_=await a.json(),n=_.slice(_.length/2,_.length-1),(e=>{s.innerHTML=`\n  <div class="block__indicators">\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n  <span class="indicators__round"></span>\n</div>\n<div class="block__variants opacity__img" onload="this.style.opacity='1'>\n  <div class="variants__body">\n    <div class="variants__row pictures__row">\n      ${(e=>{for(l.innerHTML=n[e].author,g.add(n[e].imageNum);g.size<4;)g.add(_[(t=_.length-1,Math.floor(Math.random()*t))].imageNum);var t;let s=[...g];return s=s.sort((()=>Math.random()-.5)),s.map((e=>`<div class="pictures__answer">\n                  <img class="img__opacity" onload="this.style.opacity='1'" src="./images/assets/img/${e}.jpg" alt="${e}" />\n               </div>`)).join("")})(e)} \n    </div>\n  </div>\n</div>\n  `,e&&y(),g=new Set,m=document.querySelectorAll(".pictures__answer"),m.forEach((e=>e.addEventListener("click",S)))})(e)},C=()=>{e=setInterval((()=>{t.innerHTML=+v<11?"00 : 0"+(v-1):"00 : "+(v-1),v-=1,v||(clearInterval(e),h.push("0"),y(),L("no"),lt(),ut())}),1e3)},x=e=>{"on"===e?(v=fe.value.padStart(2,"0"),C()):"continue"===e?C():t.innerHTML=""};o.addEventListener("click",(e=>{e.target.classList.contains("correct__btn")&&(d+=1,9===p?((()=>{let e=h.reduce(((e,t)=>+e+ +t),0);var t;Se.classList.add("active"),"ru"===we?e<=3?(a.textContent="Ты можешь лучше :)",rt()):e>3&&e<=7?(a.textContent="У тебя хороший уровень!",it()):e>7&&(a.textContent="Поздравляю! Ты выйграл :)",dt()):e<=3?(a.textContent="You can better :)",rt()):e>3&&e<=7?(a.textContent="You have a good level!",it()):e>7&&(dt(),a.textContent="Congratulations! You won :)"),c.textContent=`${e}`,t=e,r[u].innerHTML=`\n    ${t} / 10\n  `})(),I(u,h,"picture"),i[u].classList.add("add__bg"),ut()):(t.innerHTML=`00 : ${fe.value.padStart(2,"0")}`,q(d,void 0,we),x(mt),p+=1),o.innerHTML="")}));const E=document.querySelectorAll(".button__score"),f=document.querySelector(".score__body"),b=document.querySelectorAll(".down__common"),w=document.querySelectorAll(".local__indicator");let $=E.length/2,k=JSON.parse(localStorage.getItem("artistScore"))||[],T=JSON.parse(localStorage.getItem("pictureScore"))||[],M=JSON.parse(localStorage.getItem("scoreIndex"))||[];const A=(e,t)=>{M.push({index:e,results:t}),_t("scoreIndex",JSON.stringify(M)),E[e].classList.add("show")},I=(e,t,s)=>{let c=` \n   <div class="score__body">\n   <div class="score__logo background__size"></div>\n   <div class="score__header">\n       <div class="score__title">Score</div>\n     </div>\n     <div class="score__picture">\n         ${((e,t,s)=>{let c,a="",o=0;for(;o<10;)c="1"===t[o]?'class ="add__bg"':"",a+="picture"===s?`\n                  <div class="picture__one">\n                  <img ${c} src="./images/assets/img/${n[e].imageNum}.jpg" alt="img" />\n                <div class="img__row">\n                <div class="img__title">\n                ${n[e].author}\n                </div>\n                <div class="img__subtitle">\n                ${n[e].name}\n                </div>\n                <div class="img__year">\n                ${n[e].year}\n                </div>\n                </div>\n                        </div>`:`\n                  <div class="picture__one">\n                  <img ${c} src="./images/assets/img/${N[e].imageNum}.jpg" alt="img" />\n                  <div class="img__row">\n                  <div class="img__title">\n                  ${N[e].author}\n                  </div>\n                  <div class="img__subtitle">\n                  ${N[e].name}\n                  </div>\n                  <div class="img__year">\n                  ${N[e].year}\n                  </div>\n                  </div>\n                  </div>`,e+=1,o+=1;return a})(10*e,t,s)}\n     </div>\n   </div>\n`;"picture"===s?(T.push({page:c,number:e}),A(e+$,t),_t("pictureScore",JSON.stringify(T))):(k.push({page:c,number:e}),A(e,t),_t("artistScore",JSON.stringify(k)))};E.forEach(((e,t)=>{e.addEventListener("click",(e=>{e.stopPropagation(),"artist"===xe?(re.classList.add("hide"),ge.classList.remove("hide")):"picture"===xe&&(ie.classList.add("hide"),ge.classList.remove("hide")),((e,t)=>{let n=e;if("picture"===t){n-=$;let e=T.filter((e=>e.number===n));f.innerHTML=e[e.length-1].page}else{let t=k.filter((t=>t.number===e));f.innerHTML=t[t.length-1].page}document.querySelectorAll(".picture__one").forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("description__visible"),e.children[0].classList.toggle("descriptin__img-hidden"),e.children[1].classList.toggle("description__title-visible")}))})),document.querySelectorAll(".score__logo").forEach((e=>{e.addEventListener("click",(()=>{ge.classList.add("hide"),ne.classList.remove("hide")}))}))})(t,xe)}))})),window.onload=()=>{E.forEach(((e,t)=>{M.forEach((n=>{if(n.index===t){e.classList.add("show"),w[t].classList.add("add__bg");let s=n.results.reduce(((e,t)=>+e+ +t),0);b[t].innerHTML=`${s} / 10`}}))})),document.querySelectorAll(".score__logo").forEach((e=>{e.addEventListener("click",(()=>{ge.classList.add("hide"),ne.classList.remove("hide")}))}))};let H,N=[];const j=document.querySelector(".questions__block"),O=document.querySelector(".finish"),R=document.querySelector(".popup__correct-up"),U=document.querySelectorAll(".down__score"),V=document.querySelectorAll(".down__test"),Y=document.querySelector(".end__title");let z,J,G,Q,Z,P=new Set,W=0,D=[];const B=()=>{const e=document.querySelectorAll(".indicators__circle");D.forEach(((t,n)=>{"1"===t?e[n].classList.add("correct__answer"):"0"===t&&e[n].classList.add("uncorrect__answer")}))},F=e=>{R.innerHTML=`\n  <div class="popup__correct opacity__img" onload="this.style.opacity='1'"">\n            <div class="container">\n              <div class="correct__body">\n                <div class="correct__img">\n                  <div class="correct__logo ${e} background__size"></div>\n                  <img class="opacity__img" onload="this.style.opacity='1'" src="./images/assets/img/${z}.jpg" alt="img" />\n                </div>\n                <div class="correct__name">${N[z].name}</div>\n                <div class="correct__author"> ${N[z].author}, ${N[z].year}</div>\n                <button class="correct__button">Next</button>\n              </div>\n            </div>\n          </div>\n  `},K=e=>{e.target.innerHTML===N[z].author?(e.target.classList.add("correct__answer"),D.push("1"),B(),F("yes"),ot()):(D.push("0"),e.target.classList.add("uncorrect__answer"),B(),F("no"),lt()),ut(),clearInterval(H)},X=()=>{H=setInterval((()=>{be.innerHTML=+Z<11?"00 : 0"+(Z-1):"00 : "+(Z-1),Z-=1,Z||(clearInterval(H),D.push("0"),B(),F("no"),lt(),ut())}),1e3)},ee=e=>{"on"===e?(Z=fe.value.padStart(2,"0"),X()):"continue"===e?X():be.innerHTML=""},te=async(e,t,n)=>{let s;"number"==typeof t&&(J=t),z=e,s="en"===n?await fetch("https://raw.githubusercontent.com/yaarusik/image-data/master/imagesEn.json"):await fetch("https://raw.githubusercontent.com/yaarusik/image-data/master/images.json"),G=await s.json(),N=G.slice(0,G.length/2),(e=>{j.innerHTML=`\n  <div class="questions__block opacity__img" onload="this.style.opacity='1'">\n  <div class="block__picture">\n    <img class="opacity__img" onload="this.style.opacity='1'" src="https://raw.githubusercontent.com/yaarusik/image-data/master/img/${e}.jpg" alt="" />\n  </div>\n  <div class="block__indicators">\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n    <span class="indicators__circle"></span>\n  </div>\n  <div class="block__variants">\n    <div class="variants__body">\n      <div class="variants__row">\n       ${(e=>{for(P.add(N[e].author);P.size<4;)P.add(G[(t=G.length-1,Math.floor(Math.random()*t))].author);var t;let n=[...P];return n=n.sort((()=>Math.random()-.5)),n.map((e=>`<div class="variants__answer">${e}</div>`)).join("")})(e)}\n      </div>\n    </div>\n  </div>\n  </div> \n  `,e&&B(),P=new Set,Q=document.querySelectorAll(".variants__answer"),Q.forEach((e=>e.addEventListener("click",K)))})(e)};R.addEventListener("click",(e=>{e.target.classList.contains("correct__button")&&(z+=1,9===W?((()=>{let e=D.reduce(((e,t)=>+e+ +t),0);var t;Se.classList.add("active"),"ru"===we?e<=3?(Y.textContent="Ты можешь лучше :)",rt()):e>3&&e<=7?(Y.textContent="У тебя хороший уровень!",it()):e>7&&(Y.textContent="Поздравляю! Ты выйграл :)",dt()):e<=3?(Y.textContent="You can better :)",rt()):e>3&&e<=7?(Y.textContent="You have a good level!",it()):e>7&&(dt(),Y.textContent="Congratulations! You won :)"),O.textContent=`${e}`,t=e,U[J].innerHTML=`\n      ${t} / 10\n    `})(),I(J,D),V[J].classList.add("add__bg"),ut()):(be.innerHTML=`00 : ${fe.value.padStart(2,"0")}`,te(z,void 0,we),ee(mt),W+=1),R.innerHTML="")}));const ne=document.querySelector(".start"),se=document.querySelector(".setting"),ce=document.querySelector(".settings__close"),ae=document.querySelectorAll(".main__settings"),oe=document.querySelectorAll(".category__setting"),re=document.querySelector(".category__one"),ie=document.querySelector(".category__two"),le=document.querySelectorAll(".main__picture"),de=document.querySelector(".questions"),ue=document.querySelectorAll(".main__author"),_e=document.querySelectorAll(".down__row"),me=document.querySelectorAll(".questions__close"),ve=document.querySelectorAll(".menu__home"),ge=document.querySelector(".score"),pe=document.querySelector(".score__row"),he=document.querySelectorAll(".down__pictures"),Le=document.querySelector(".picture__questions"),ye=document.querySelector(".popup__cancel"),Se=document.querySelector(".popup__end"),qe=document.querySelector(".popup__no"),Ce=document.querySelectorAll(".popup__yes");let xe=!1;const Ee=()=>{ne.classList.add("hide"),se.classList.remove("hide")};oe.forEach((e=>{e.addEventListener("click",(()=>{ie.classList.add("hide"),re.classList.add("hide"),se.classList.remove("hide")}))})),ae.forEach((e=>{e.addEventListener("click",Ee)})),ce.addEventListener("click",(()=>{"artist"===xe?(re.classList.remove("hide"),se.classList.add("hide")):"picture"===xe?(ie.classList.remove("hide"),se.classList.add("hide")):(ne.classList.remove("hide"),se.classList.add("hide"))})),ue.forEach((t=>{t.addEventListener("click",(()=>{xe="artist",ne.classList.add("hide"),re.classList.remove("hide"),clearInterval(H),clearInterval(e)}))})),le.forEach((t=>{t.addEventListener("click",(()=>{xe="picture",ne.classList.add("hide"),ie.classList.remove("hide"),clearInterval(H),clearInterval(e)}))})),_e.forEach(((e,t)=>{e.addEventListener("click",(()=>{re.classList.add("hide"),de.classList.remove("hide"),te(10*t,t,we),ee(mt)}))})),he.forEach(((e,t)=>{e.addEventListener("click",(()=>{ie.classList.add("hide"),Le.classList.remove("hide"),q(10*t,t,we),x(mt)}))})),me.forEach((t=>{t.addEventListener("click",(()=>{ye.classList.add("active"),clearInterval(H),clearInterval(e)}))})),ve.forEach((e=>{e.addEventListener("click",(()=>{xe=!1,re.classList.add("hide"),ie.classList.add("hide"),ne.classList.remove("hide")}))})),Ce.forEach((n=>{n.addEventListener("click",(()=>{be.innerHTML=`00 : ${fe.value.padStart(2,"0")}`,t.innerHTML=`00 : ${fe.value.padStart(2,"0")}`,"artist"===xe?(de.classList.add("hide"),re.classList.remove("hide"),W=0,D=[]):"picture"===xe&&(Le.classList.add("hide"),ie.classList.remove("hide"),p=0,h=[]),clearInterval(H),clearInterval(e),ye.classList.remove("active"),Se.classList.remove("active")}))})),qe.addEventListener("click",(()=>{ye.classList.remove("active"),"artist"===xe?ee("continue"):x("continue")})),pe.addEventListener("click",(()=>{"artist"===xe?(ge.classList.add("hide"),re.classList.remove("hide")):"picture"===xe&&(ge.classList.add("hide"),ie.classList.remove("hide"))}));const fe=document.querySelector(".settings__select"),be=document.querySelector(".questions__timer");let we=localStorage.getItem("lang")||"en";const $e=document.querySelectorAll(".card__description"),ke=document.querySelector(".settings__text"),Te=document.querySelector(".card__artist").childNodes,Me=document.querySelector(".card__picture").childNodes,Ae=document.querySelector(".settings__title"),Ie=document.querySelector(".language__title"),He=document.querySelector(".sound__title"),Ne=document.querySelector(".timer__title"),je=document.querySelector(".time__title"),Oe=document.querySelector(".text__size"),Re=document.querySelector(".volume__progress"),Ue=document.querySelector(".mute"),Ve=document.querySelector(".button__save"),Ye=document.querySelector(".sound__switch"),ze=document.querySelector(".timer__switch"),Je=document.querySelector(".sound__indicator"),Ge=document.querySelector(".timer__indicator"),Qe=document.querySelector(".language__indicator"),Ze=document.querySelector(".language__switch"),Pe=document.querySelectorAll(".category__title"),We=document.querySelectorAll(".down__title"),De=document.querySelectorAll(".footer__author"),Be=document.querySelectorAll(".menu__text"),Fe=document.querySelector(".title__picture").childNodes,Ke=document.querySelector(".title__author").childNodes,Xe=document.querySelector(".popup__title"),et=document.querySelector(".popup__close"),tt=document.querySelector(".popup__home"),nt=document.querySelector(".score__artists"),st=document.querySelector(".button__categories");let ct;fe.value=localStorage.getItem("timerClock")||"5";let at=new Audio;const ot=()=>{at.src="./sound/correct.mp3"},rt=()=>{at.src="./sound/gameOver.mp3"},it=()=>{at.src="./sound/gameCenter.mp3"},lt=()=>{at.src="./sound/uncorrect.mp3"},dt=()=>{at.src="./sound/end.mp3"},ut=()=>{at.play()},_t=(e,t)=>{localStorage.setItem(`${e}`,t)};let mt=localStorage.getItem("timerStatus")||"on",vt=localStorage.getItem("volumeStatus")||"on";Re.addEventListener("input",(()=>{const e=(void 0).value;(void 0).style.background=`linear-gradient(to right, #00cece 0%, #00cece ${e}%, #e5e5e5 ${e}%, #e5e5e5 100%)`}));let gt=["ARTIST QUIZ","PICTURES QUIZ","SETTINGS","LANGUAGE RU / EN","VOLUME","TIMER GAME","TIME TO ANSWER","sec","SAVE","Developer: Ruslan Vildanov","CATEGORIES","ROUND","HOME","Who is the author of this picture?","Which of these paintings did paint","Are you sure you want to complete the test?","Yes","Cancel","SCORE","Back to categories","Type of game: to guess the artist by the picture","Type of game: to guess the picture by the name of its author"],pt=["Квиз по художникам","Квиз по картинам","НАСТРОЙКИ","ЯЗЫК РУС / АНГЛ","ГРОМКОСТЬ","ИГРА НА ВРЕМЯ","ВРЕМЯ НА ВОПРОС","сек","СОХРАНИТЬ","Разработчик: Руслан Вильданов","Категории","РАУНД","ДОМОЙ","Кто автор этой картины?","Какую из этих картин написал ","Вы уверены, что хотите завершить тест","Да","Отмена","Результаты","Назад к категориям","Тип игры: угадать художника по картине","Тип игры: угадать картину по имени её автора"];const ht=e=>{"en"===e?(ue.textContent=gt[0],le.textContent=gt[1],ae.textContent=gt[2],Ae.textContent=gt[2],Ie.textContent=gt[3],He.textContent=gt[4],Ne.textContent=gt[5],je.textContent=gt[6],Oe.textContent=gt[8],De.forEach((e=>e.textContent=gt[9])),Pe.forEach((e=>e.textContent=gt[10])),We.forEach(((e,t)=>e.textContent=gt[11]+` ${t+1}`)),Be.forEach((e=>e.textContent=gt[12])),Ke[0].textContent=gt[13],Fe[0].textContent=gt[14],Xe.textContent=gt[15],tt.textContent=gt[16],et.textContent=gt[17],st.textContent=gt[10],E.forEach((e=>e.textContent=gt[18])),nt.textContent=gt[19],Te[0].textContent="ARTIST ",Te[1].textContent="QUIZ",Me[0].textContent="PICTURES ",Me[1].textContent="QUIZ",$e[0].textContent=gt[20],$e[1].textContent=gt[21],ke.textContent=gt[2]):(ue.textContent=pt[0],le.textContent=pt[1],ae.textContent=pt[2],Ae.textContent=pt[2],Ie.textContent=pt[3],He.textContent=pt[4],Ne.textContent=pt[5],je.textContent=pt[6],Oe.textContent=pt[8],De.forEach((e=>e.textContent=pt[9])),Pe.forEach((e=>e.textContent=pt[10])),We.forEach(((e,t)=>e.textContent=pt[11]+` ${t+1}`)),Be.forEach((e=>e.textContent=pt[12])),Ke[0].textContent=pt[13],Fe[0].textContent=pt[14],Xe.textContent=pt[15],tt.textContent=pt[16],et.textContent=pt[17],st.textContent=pt[10],E.forEach((e=>e.textContent=pt[18])),nt.textContent=pt[19],Te[0].textContent="Квиз по ",Te[1].textContent="художникам",Me[0].textContent="Квиз по ",Me[1].textContent="картинам",$e[0].textContent=pt[20],$e[1].textContent=pt[21],ke.textContent=pt[2])};function Lt(e){e.style.background=`linear-gradient(to right, #00cece 0%, #00cece ${e.value}%, #e5e5e5 ${e.value}%, #e5e5e5 100%)`}const yt=()=>{at.muted=!at.muted,at.muted?(vt="off",Je.classList.add("change__indicator"),Ue.classList.add("unmute")):(vt="on",Je.classList.remove("change__indicator"),Ue.classList.remove("unmute")),at.muted?(Ue.setAttribute("data-volume",Re.value),Ue.classList.add("unmute"),Re.value=0,Lt(Re)):(Re.value=Ue.dataset.volume,Ue.classList.remove("unmute"),Lt(Re))};Ue.addEventListener("click",yt),Ye.addEventListener("click",yt),fe.addEventListener("change",(()=>{ct=fe.value})),ze.addEventListener("click",(()=>{Ge.classList.contains("change__indicator")?fe.disabled=!1:fe.disabled=!0,Ge.classList.toggle("change__indicator")})),Ze.addEventListener("click",(()=>{we=Qe.classList.contains("change__indicator")?"en":"ru",ht(we),Qe.classList.toggle("change__indicator")})),"ru"===we&&Qe.classList.add("change__indicator"),Re.oninput=function(){let e=this.value;return 0===e?(vt="off",at.muted=!0,Ue.classList.add("unmute"),Je.classList.add("change__indicator")):(vt="on",at.volume=e/100,Je.classList.remove("change__indicator"),Ue.classList.remove("unmute"),at.muted=!1),_t("volumeValue",at.volume),e},"off"===mt?(Ge.classList.add("change__indicator"),fe.disabled=!0,be.innerHTML="",t.innerHTML=""):(Ge.classList.remove("change__indicator"),fe.disabled=!1,be.innerHTML=`00 : ${fe.value.padStart(2,"0")}`,t.innerHTML=`00 : ${fe.value.padStart(2,"0")}`),Ve.addEventListener("click",(()=>{if(!0===fe.disabled)mt="off",be.innerHTML="",t.innerHTML="";else{mt="on";let e=fe.value;be.innerHTML=`00 : ${e}`,t.innerHTML=`00 : ${e}`}at.volume="off"===vt?0:localStorage.getItem("volumeValue")||.4,ht(we),_t("lang",we),_t("volumeValue",at.volume),_t("volumeStatus",vt),_t("timerStatus",mt),ct&&_t("timerClock",ct),ne.classList.remove("hide"),se.classList.add("hide")})),"off"===vt?(at.volume=0,at.muted=!0,Ue.classList.add("unmute"),Je.classList.add("change__indicator"),Re.value=0,Lt(Re)):(at.volume=localStorage.getItem("volumeValue")||1,at.muted=!1,Ue.classList.remove("unmute"),Je.classList.remove("change__indicator"),Re.value=100*localStorage.getItem("volumeValue")||40,Lt(Re)),ht(we)})();