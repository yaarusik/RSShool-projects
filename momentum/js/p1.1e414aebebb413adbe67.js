(()=>{var e={428:()=>{const e=document.querySelectorAll(".hidden__weather"),t=document.querySelector(".player"),o=document.querySelector(".weather"),n=document.querySelector(".greeting-container"),i=document.querySelector(".quotes"),a=document.querySelector(".change-quote"),s=document.querySelector(".date"),l=document.querySelector(".time"),r=document.querySelector(".todo");let c=[];function d(){this.classList.toggle("hidden"),c.includes(this.id)?c=c.filter((e=>e!=this.id)):c.push(this.id),function(e){localStorage.setItem("hide",JSON.stringify(e))}(c),this.classList.contains("hidden")?"weather"==this.id?o.classList.add("hid"):"time"==this.id?l.classList.add("hid"):"date"==this.id?s.classList.add("hid"):"audio"==this.id?t.classList.add("hid"):"quotes"==this.id?(i.classList.add("hid"),a.classList.add("hid")):"greeting"==this.id?n.classList.add("hid"):"todo"==this.id&&r.classList.add("hid"):"weather"==this.id?o.classList.remove("hid"):"time"==this.id?l.classList.remove("hid"):"date"==this.id?s.classList.remove("hid"):"audio"==this.id?t.classList.remove("hid"):"quotes"==this.id?(i.classList.remove("hid"),a.classList.remove("hid")):"greeting"==this.id?n.classList.remove("hid"):"todo"==this.id&&r.classList.remove("hid")}e.forEach((e=>{e.addEventListener("click",d)})),window.addEventListener("load",(()=>{localStorage.getItem("hide")&&(c=JSON.parse(localStorage.getItem("hide")),function(){for(let t=0;t<e.length;t++)for(let o=0;o<c.length;o++)e[t].id==c[o]&&e[t].classList.add("hidden")}(),e.forEach((e=>{e.classList.contains("hidden")&&("weather"==e.id?o.classList.add("hid"):"time"==e.id?l.classList.add("hid"):"date"==e.id?s.classList.add("hid"):"audio"==e.id?t.classList.add("hid"):"quotes"==e.id?(i.classList.add("hid"),a.classList.add("hid")):"greeting"==e.id?n.classList.add("hid"):"todo"==e.id&&r.classList.add("hid"))})))}))},660:()=>{const e=document.querySelector(".settings"),t=document.querySelector(".popup__close"),o=document.querySelector(".popup");e.addEventListener("click",(function(){o.classList.toggle("open")})),t.addEventListener("click",(function(){o.classList.remove("open")})),document.addEventListener("click",(t=>{o.contains(t.target)||e.contains(t.target)||o.classList.remove("open")}))},469:()=>{const e=document.querySelector(".inputField input"),t=document.querySelector(".inputField button"),o=document.querySelector(".todo__list"),n=document.querySelector(".pending__numb"),i=document.querySelector(".todo__footer button");function a(){let t=localStorage.getItem("Todo");listArr=t?JSON.parse(t):[],n.textContent=listArr.length,listArr.length>0?i.classList.add("active"):i.classList.remove("active");let s="";listArr.forEach(((e,t)=>{s+=`<li>${e} <span class="todo__delete"><i class="fa fa-trash"></i></span></li>`})),o.innerHTML=s,document.querySelectorAll(".todo__delete").forEach(((e,t)=>{e.addEventListener("click",(function(){!function(e){let t=localStorage.getItem("Todo");listArr=JSON.parse(t),listArr.splice(e,1),localStorage.setItem("Todo",JSON.stringify(listArr)),a()}(t)}))})),e.value=""}e.onkeyup=()=>{0!=e.value.trim()?t.classList.add("active"):t.classList.remove("active")},a(),t.onclick=()=>{let t=e.value,o=localStorage.getItem("Todo");listArr=o?JSON.parse(o):[],listArr.push(t),localStorage.setItem("Todo",JSON.stringify(listArr)),a()},i.addEventListener("click",(function(){listArr=[],localStorage.setItem("Todo",JSON.stringify(listArr)),a()}))}},t={};function o(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}(()=>{"use strict";let e=localStorage.getItem("lang")||"en";const t=document.querySelector(".time"),n=document.querySelector(".date"),i=document.querySelector(".greeting"),a=document.querySelector(".name");let s,l=["Good night","Good morning","Good afternoon","Good evening","[Enter name]"],r=["Доброй ночи","Доброе утро","Добрый день","Добрый вечер","[Введите имя]"],c=["Дабранач","Добрай раніцы","Добры дзень","Добры вечар","[Увядзіце імя]"],d=["en-US","ru-RU","be-Be"],u=new Date,m=["Студзень","Люты","Сакавiк","Красавiк","Май","Червень","Лiпень","Жнiвень","Верасень","Кастрычнiк","Лiстапад","Снежань"][u.getMonth()],h=u.getDate(),g=`${["","панядзелак","аўторак","серада","чацвер","пятніца","субота","нядзеля"][u.getDay()+1]}, ${h} ${m}`;const p=(t,o)=>{let n;return e=o,n="ru"==o?r:"en"==o?l:c,a.placeholder=n[4],0==t?n[0]:1==t?n[1]:2==t?n[2]:n[3]};window.addEventListener("beforeunload",(()=>{localStorage.setItem("name",a.value)})),window.addEventListener("load",(()=>{localStorage.getItem("name")&&(a.value=localStorage.getItem("name"))}));const S=()=>{const o=(new Date).toLocaleTimeString();t.textContent=o,((e="en")=>{if("en"==e)e=d[0],n.classList.remove("date-first");else{if("ru"!=e)return n.classList.add("date-first"),void(n.textContent=g);e=d[1],n.classList.add("date-first")}const t=(new Date).toLocaleDateString(e,{weekday:"long",day:"numeric",month:"long"});n.textContent=t})(e),(e=>{const t=(new Date).getHours();s=Math.floor(+t/6),i.textContent=p(s,e)})(e),setTimeout(S,400)};S();const y=document.querySelector("#tags");localStorage.getItem("disable")?"git"==localStorage.getItem("sourse")?y.disabled=!0:y.disabled=!1:y.disabled=!0,console.log(Boolean(localStorage.getItem("disable")));const f=e=>0==e?"night":1==e?"morning":2==e?"afternoon":"evening";let v=document.querySelector("body"),L=document.querySelector(".slide-next"),q=document.querySelector(".slide-prev");const _=document.querySelectorAll("input[name='foto']");let w=localStorage.getItem("url"),E=localStorage.getItem("sourse")||"git",b=Math.ceil(20*Math.random());function k(e,t,o="git",n){let i,a=String(t).padStart(2,"0");"git"==o?(i=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${a}.jpg`,localStorage.setItem("url",i)):("unspl"==o||"flick"==o)&&(i=n,localStorage.setItem("url",i));const s=new Image;s.src=`${i}`,s.addEventListener("load",(()=>{v.style.backgroundImage=`url('${i}')`})),setTimeout((function(){L.disabled=!1,q.disabled=!1}),1e3)}async function x(e,t){const o=`https://api.unsplash.com/photos/random?orientation=landscape&query=${t}&client_id=gy1iVo2gyQUJrsG5heWiEn9fXVIvJjqUbG0Lc6Ed43Y`,n=await fetch(o),i=await n.json();try{w=i.urls.regular,k(t,b,E,w),y.placeholder=""}catch{y.value="",y.placeholder="такого тега нет"}}async function I(e,t){let o;o="night"==t?"72157720116678540":"morning"==t?"72157720063575314":"afternoon"==t?"72157720063552049":"72157720116708460";const n=`https://www.flickr.com/services/rest/?method=flickr.galleries.getPhotos&api_key=e1c205a032712c88d65cd8f5b63fb482&gallery_id=${o}&extras=url_h&format=json&nojsoncallback=1`,i=await fetch(n),a=await i.json();w=a.photos.photo[b].url_h,k(t,b,E,w)}L.addEventListener("click",(function(){L.disabled||function(e,t){L.disabled=!0,b++,b>20&&(b=1),"unspl"!=e?"flick"!=e?k(t,b,E,w):I(0,t):x(0,t)}(E,f(s))})),q.addEventListener("click",(function(){q.disabled||function(e,t){q.disabled=!0,b--,b<1&&(b=20),"unspl"!=e?"flick"!=e?k(f(s),b,E,w):I(0,t):x(0,t)}(E,f(s))})),k(f(s),b,E,w),_.forEach((e=>{e.addEventListener("change",(function(){"git"==this.id?(y.disabled=!0,localStorage.setItem("disable",!0),E=this.id,localStorage.setItem("sourse",this.id),k(f(s),b,E)):"unspl"==this.id?(y.disabled=!1,localStorage.setItem("disable",!1),E=this.id,localStorage.setItem("sourse",this.id),x(0,f(s))):"flick"==this.id&&(y.disabled=!1,localStorage.setItem("disable",!1),E=this.id,localStorage.setItem("sourse",this.id),I(0,f(s)))}))}));let C=localStorage.sourse;C&&(document.getElementById(C).checked=!0),_.forEach((e=>{e.addEventListener("click",(function(){localStorage.sourse=this.id}))})),y.addEventListener("change",(function(){"unspl"==E?x(0,this.value):"flick"==E&&async function(e){const t=`https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=e1c205a032712c88d65cd8f5b63fb482&tags=${e}&extras=url_h&format=json&nojsoncallback=1`,o=await fetch(t),n=await o.json();try{w=n.photos.photo[b].url_h,y.placeholder=""}catch{y.value="",y.placeholder="такого тега нет"}k(f(s),b,E,w)}(this.value),this.value+=" "})),console.log("Flickr API ИНОГДА ДОЛГО ПОДГРУЖАЕТСЯ\n самооценка в pull request по ссылке по никнейму yaarusik в footer приложения(160/160)");const $=document.querySelector(".quote"),T=document.querySelector(".author"),A=document.querySelector(".change-quote");let M,j=localStorage.getItem("lang")||"en",N=()=>Math.ceil(24*Math.random());async function G(e,t){let o;j=t,o="ru"==t?"./json/quoteRu.json":"en"==t?"./json/quoteEn.json":"./json/quoteBe.json";const n=o,i=await fetch(n),a=await i.json();$.textContent=a[e].text,T.textContent=a[e].author}M=N(),G(M,j),A.addEventListener("click",(function(){M=N(),G(M,j)}));const J=document.querySelectorAll('input[name="language"]'),O=document.querySelectorAll(".weather__title"),B=document.querySelector(".foto__title"),D=document.querySelector(".popup__title"),W=document.querySelector(".blocks__title"),H=document.querySelector(".language__title"),R=document.querySelector(".foto__tags p"),F=document.querySelector(".todo__header"),U=document.querySelector(".inputField input"),Y=document.querySelector(".todo__footer button"),P=document.querySelector(".todo__footer span").childNodes;let Q=localStorage.getItem("lang")||"en";J.forEach((e=>{e.addEventListener("change",(function(){("ru"==this.id||"en"==this.id||"be"==this.id)&&function(e,t){let o=localStorage.getItem("weather");(e=>{localStorage.setItem("lang",e)})(t),p(e,t),ue(o,t),G(5,t),Z(t)}(s,this.id)}))})),J.forEach((e=>{e.addEventListener("click",(function(){localStorage.lang=this.id}))}));let V=localStorage.lang;V&&(document.getElementById(V).checked=!0);let X=["Settings","Select the photo upload source","Show / Hide next blocks:","Weather","Time","Date","Audio","Quotes","Greeting","Select the application language:","TodoList","Tags for foto:","Add your new todo","Clear all","You have "," pending tasks"],z=["Настройки","Выберите источник загрузки фотографий","Показывать/Скрывать следующие блоки:","Погода","Время","Дата","Аудио","Цитаты","Приветствие","Выберите язык приложения:","Cписок дел","Теги для фото","Добавить новое задание","Очистить","У вас "," незавершенных задач"],K=["Наладжваньне","Выберыце крыніца загрузкі фатаграфій","Паказваць / хаваць наступныя блокі:","Надвор'е","Час","Дата","Аўдыё","Цытата","Прывітанне","Абярыце мову прыкладання:","Спіс спраў","Тэгі фота","Дадаць новае заданне","Ачысціць","У вас "," незавершаных задач"];function Z(e){let t;t="ru"==e?z:"en"==e?X:K,O[0].textContent=t[3],O[1].textContent=t[4],O[2].textContent=t[5],O[3].textContent=t[6],O[4].textContent=t[7],O[5].textContent=t[8],O[6].textContent=t[10],B.textContent=t[1],H.textContent=t[9],D.textContent=t[0],W.textContent=t[2],R.textContent=t[11],F.textContent=t[10],U.placeholder=t[12],Y.textContent=t[13],P[0].textContent=t[14],P[2].textContent=t[15]}Z(Q);const ee=document.querySelector(".weather-icon"),te=document.querySelector(".temperature"),oe=document.querySelector(".weather-description"),ne=document.querySelector(".wind"),ie=document.querySelector(".humidity"),ae=document.querySelector(".city");let se=localStorage.getItem("lang")||"en",le=["Wind speed","Humidity","m/s","Error! city not found for"],re=["Скорость ветра","Влажность","м/с","Ошибка! не найден город для "],ce=["Хуткасць ветру","Вільготнасць","м/с","Памылка! горад не знойдзены для"];function de(){localStorage.setItem("weather",ae.value)}async function ue(e,t){let o;const n=`https://api.openweathermap.org/data/2.5/weather?q=${e}&lang=${t}&appid=e4d036bace916ea652d4d795631e466b&units=metric`,i=await fetch(n),a=await i.json();"ru"==t?(o=re,"Minsk"==ae.value&&(ae.value="Минск")):"en"==t?("Минск"==ae.value&&(ae.value="Minsk"),o=le):("Minsk"==ae.value&&(ae.value="Минск"),o=ce),"404"!=a.cod&&e.length?(de(),ee.className="weather-icon owf",ee.classList.add(`owf-${a.weather[0].id}`),te.textContent=`${Math.trunc(+a.main.temp)}°C`,oe.textContent=a.weather[0].description,ne.textContent=`${o[0]}: ${Math.trunc(+a.wind.speed)}${o[2]}`,ie.textContent=`${o[1]}: ${a.main.humidity}%`):(te.textContent=`${o[3]} "${e}"!`,de(),oe.textContent="",ne.textContent="",ie.textContent="")}ae.addEventListener("change",(function(e){ue(this.value,se)})),window.addEventListener("beforeunload",de),window.addEventListener("load",void(localStorage.getItem("weather")?(ae.value=localStorage.getItem("weather"),ue(ae.value,se)):ue(ae.value,se)));const me=[{title:"Talking To The Moon",src:"./images/assets/sounds/BrunoMars_Talking_To_The_Moon.mp3",duration:"0:39"},{title:"Get Lucky",src:"./images/assets/sounds/HotGirlBum_Get_Lucky.mp3",duration:"0:37"},{title:"In The End",src:"./images/assets/sounds/MellenGiRemix_In_The_End.mp3",duration:"0:45"},{title:"Such a Whore",src:"./images/assets/sounds/StellularRemix_Such_a_Whore.mp3",duration:"0:32"},{title:"Call Me By Your Name",src:"./images/assets/sounds/MONTERO_Call_Me_By_Your_Name.mp3",duration:"0:32"}],he=document.querySelector(".play"),ge=document.querySelector(".play-prev"),pe=document.querySelector(".play-next"),Se=document.querySelector(".play-list"),ye=Se.children,fe=document.querySelector(".progress-container"),ve=document.querySelector(".progress-bar"),Le=document.querySelector(".progress-duration"),qe=document.querySelector(".player-icon__volume"),_e=document.querySelector(".range"),we=document.querySelector(".progress-title");let Ee=!1,be=0;const ke=new Audio;let xe;ke.src=me[be].src,we.textContent=me[be].title,ke.volume=+_e.value/100,Le.textContent=`0:00 / ${me[be].duration}`;const Ie=()=>{ke.src=me[be].src,we.textContent=me[be].title,ke.currentTime=0,Ee?(ke.pause(),Ee=!1,he.classList.remove("pause"),Ae[be].className="play-item"):(ke.play(),Ee=!0,he.classList.add("pause"),$e(),Ae[be].className="play-item change-item playlist-indicator")},Ce=()=>{Me(),xe=be,be++,be>4&&(be=0),$e(),Ee=!1,Ie()},$e=()=>{ye[be].classList.add("playlist-indicator"),ye[xe]&&ye[xe].classList.remove("playlist-indicator")};function Te(e){e.style.background=`linear-gradient(to right, #c5b358 0%, #c5b358 ${e.value}%, #e4e9eb ${e.value}%, #e4e9eb 100%)`}he.addEventListener("click",Ie),ge.addEventListener("click",(()=>{Me(),xe=be,be--,be<0&&(be=4),$e(),Ee=!1,Ie()})),pe.addEventListener("click",Ce),me.forEach(((e,t)=>{const o=document.createElement("li");o.classList.add("play-item"),o.textContent=me[t].title,Se.append(o)})),ke.addEventListener("ended",(function(){Ce()})),ke.addEventListener("timeupdate",(e=>{const{duration:t,currentTime:o}=e.srcElement,n=o/t*100;ve.style.width=`${n}%`,Le.textContent=function(e){let t=Math.floor(e/60),o=Math.floor(e%60);return o<10&&(o="0"+o),`${t}:${o} / ${me[be].duration}`}(o)})),fe.addEventListener("click",(function(e){const t=this.offsetWidth,o=e.offsetX,n=ke.duration;ke.currentTime=o/t*n})),qe.addEventListener("click",(function(){ke.muted=!ke.muted,ke.muted?qe.classList.add("mute"):qe.classList.remove("mute"),ke.muted?(qe.setAttribute("data-volume",_e.value),qe.classList.add("mute"),_e.value=0,Te(_e)):(_e.value=qe.dataset.volume,qe.classList.remove("mute"),Te(_e))})),_e.oninput=function(e){let t=this.value;return 0==t?(ke.muted=!0,qe.classList.add("mute")):(ke.volume=t/100,qe.classList.remove("mute"),ke.muted=!1),t},_e.addEventListener("input",(function(){const e=this.value;this.style.background=`linear-gradient(to right, #c5b358 0%, #c5b358 ${e}%, #e4e9eb ${e}%, #e4e9eb 100%)`}));const Ae=document.querySelectorAll(".play-item");function Me(e){Ae.forEach((e=>{e.classList.contains("playlist-indicator")&&(e.classList.remove("playlist-indicator"),e.className="play-item")}))}Ae.forEach(((e,t)=>{e.addEventListener("click",(function(){be=t,Me(),Ie()}))})),o(469),o(660),o(428)})()})();